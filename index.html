<html>
<head>
<title>INFO 3300 - Project 1</title>
<link href="https://fonts.googleapis.com/css?family=Alegreya|Alegreya+Sans" rel="stylesheet">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script src="http://d3js.org/topojson.v2.min.js"></script>

<style>
	body { font-family: 'Alegreya Sans', Calibri, sans-serif; }
	svg { border: solid #ccc 2px; }

</style>
</head>
<body>

<p id="p1"> 
	Total number of questions on Stack Overflow <br> <br>
	<svg id="svg_numquestions" width="300" height="300">
	</svg>
</p><br><br>

<script>

	var maxMonthNum;
	var maxCount;
	var monthNumExtent;
	var dataset = [];
	var svg = d3.select("#svg_numquestions");

	d3.csv("TotalQuestions.csv", function(data) {
		dataset = data;
		monthNumExtent = d3.extent(dataset, function(d) 
			{return +d.MonthNum; });
		countExtent = d3.extent(dataset, function(d) 
			{return +d.Count; });

		update(dataset);

	});

	function update(dataset){
		//console.log(monthNumExtent);
		
		var xScale = d3.scaleLinear()
		.domain(monthNumExtent)
		.range([30,270]);

		var xAxis = d3.axisBottom(xScale);
		svg.append("g").attr("transform", "translate(0,270)").call(xAxis);

		var yScale = d3.scaleLinear()
		.domain(countExtent)
		.range([270,30]);

		var yAxis = d3.axisLeft(yScale);
		svg.append("g").attr("transform","translate(30,0)").call(yAxis);

		// for (each in dataset){
		// 	//console.log("hi");

		// 	svg.append("circle")
		// 	.attr("cx", xScale(dataset[each].MonthNum))
		// 	.attr("cy", yScale(dataset[each].Count))
		// 	.attr("r", 3);
		// }

        var lineFunction = d3.line()
        .x(function (d) {
            return xScale(d.MonthNum);
        })
        .y(function (d) {
            return yScale(d.Count);
        });

        svg.append("path")
        .attr("d", lineFunction(dataset))
        .style("stroke-width", 2)
        .style("stroke", "rgb(6,120,155)")
        .style("fill", "none");
        
	}	


</script>


</body>
</html>

